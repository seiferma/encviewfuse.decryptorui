language: python
python:
- '3.2'
- '3.3'
- '3.4'
install:
- pip install .
script: nosetests
deploy:
  provider: pypi
  server: https://pypi.python.org/pypi
  user: seiferma
  password:
    secure: OZcp5eYA9Xi05Q8m9XPgdBYvfdf1a2Dgz+1gVNxCs6BMOAoIfRURZfAST/zIwl3vHwMiaUl7Og7ve9MLqrDnh4R2WUI2DfvstVWd9qN5RSDo5Veua/hRiZx1yPhqS2bgGmeuS7cLe0UjhXuvDSrqOylGUzKVSYkADpjnLAaIpv8=
  on:
    tags: true
    condition: $TRAVIS_PYTHON_VERSION = '3.3'
after_deploy:
- git clone https://github.com/seiferma/travis-utils.git
- python travis-utils/validate_pypi.py -v || exit 1
